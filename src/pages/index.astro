---
import Slideshow from "../components/Slideshow.astro";
import Layout from "../layouts/Layout.astro";

const img_metadata = await Astro.glob(
  "/src/assets/images/slideshow/*.{jpeg,jpg,png}",
);
---

<Layout title="Víctor Pérez Brotons Art Portfolio">
  <Slideshow img_metadata={img_metadata} />
</Layout>

<style>
  html,
  body {
    background: black;
  }
</style>

<script is:inline>
  document.addEventListener("astro:page-load", () => {
    let slideshow = document.getElementById("slideshow");
    let header_height = document.getElementById("header").offsetHeight;

    if (slideshow) slideshow.style.height = `calc(100vh - ${header_height}px)`;
  });
</script>
